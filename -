openapi: 3.0.3
info:
  title: Nexus-Bank API
  version: 1.0.0
  description: Our Own Digital Bank
paths:
  /accounts:
    get:
      operationId: accounts_list
      description: |-
        GET /accounts
        POST /accounts
      tags:
      - accounts
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Account'
          description: ''
    post:
      operationId: accounts_create
      description: |-
        GET /accounts
        POST /accounts
      tags:
      - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
  /accounts/{account_number}/cards/:
    get:
      operationId: accounts_cards_list
      description: |-
        GET  /accounts/<account_number>/cards/  -> list cards for that account
        POST /accounts/<account_number>/cards/  -> create a card for that account
      parameters:
      - in: path
        name: account_number
        schema:
          type: string
        required: true
      tags:
      - accounts
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Card'
          description: ''
    post:
      operationId: accounts_cards_create
      description: |-
        GET  /accounts/<account_number>/cards/  -> list cards for that account
        POST /accounts/<account_number>/cards/  -> create a card for that account
      parameters:
      - in: path
        name: account_number
        schema:
          type: string
        required: true
      tags:
      - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Card'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Card'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Card'
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Card'
          description: ''
  /auth/jwt/create/:
    post:
      operationId: auth_jwt_create_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoggingTokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LoggingTokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LoggingTokenObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoggingTokenObtainPair'
          description: ''
  /auth/jwt/refresh/:
    post:
      operationId: auth_jwt_refresh_create
      description: Wraps SimpleJWT refresh to log successful and failed refresh attempts.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /auth/jwt/verify/:
    post:
      operationId: auth_jwt_verify_create
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenVerify'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenVerify'
          description: ''
  /auth/logout/:
    post:
      operationId: auth_logout_create
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /auth/token/login/:
    post:
      operationId: auth_token_login_create
      description: Use this endpoint to obtain user authentication token.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenCreate'
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenCreate'
          description: ''
  /auth/token/logout/:
    post:
      operationId: auth_token_logout_create
      description: Use this endpoint to logout user (remove user authentication token).
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /auth/users/:
    get:
      operationId: auth_users_list
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
          description: ''
    post:
      operationId: auth_users_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreatePasswordRetype'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserCreatePasswordRetype'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserCreatePasswordRetype'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCreatePasswordRetype'
          description: ''
  /auth/users/{id}/:
    get:
      operationId: auth_users_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: auth_users_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: auth_users_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: auth_users_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /auth/users/activation/:
    post:
      operationId: auth_users_activation_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Activation'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Activation'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Activation'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activation'
          description: ''
  /auth/users/me/:
    get:
      operationId: auth_users_me_retrieve
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: auth_users_me_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: auth_users_me_partial_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: auth_users_me_destroy
      tags:
      - auth
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /auth/users/resend_activation/:
    post:
      operationId: auth_users_resend_activation_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailReset'
          description: ''
  /auth/users/reset_email/:
    post:
      operationId: auth_users_reset_email_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailReset'
          description: ''
  /auth/users/reset_email_confirm/:
    post:
      operationId: auth_users_reset_email_confirm_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UsernameResetConfirm'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UsernameResetConfirm'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UsernameResetConfirm'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsernameResetConfirm'
          description: ''
  /auth/users/reset_password/:
    post:
      operationId: auth_users_reset_password_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SendEmailReset'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailReset'
          description: ''
  /auth/users/reset_password_confirm/:
    post:
      operationId: auth_users_reset_password_confirm_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirm'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PasswordResetConfirm'
          description: ''
  /auth/users/set_email/:
    post:
      operationId: auth_users_set_email_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetUsername'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SetUsername'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SetUsername'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetUsername'
          description: ''
  /auth/users/set_password/:
    post:
      operationId: auth_users_set_password_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetPasswordRetype'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SetPasswordRetype'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SetPasswordRetype'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetPasswordRetype'
          description: ''
  /bill/:
    get:
      operationId: bill_list
      tags:
      - bill
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BillPayment'
          description: ''
    post:
      operationId: bill_create
      tags:
      - bill
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BillPayment'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BillPayment'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BillPayment'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillPayment'
          description: ''
  /bill/{id}/:
    get:
      operationId: bill_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - bill
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillPayment'
          description: ''
    put:
      operationId: bill_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - bill
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BillPayment'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BillPayment'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BillPayment'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillPayment'
          description: ''
    patch:
      operationId: bill_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - bill
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedBillPayment'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedBillPayment'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedBillPayment'
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillPayment'
          description: ''
    delete:
      operationId: bill_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - bill
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /business/countries/:
    get:
      operationId: business_countries_retrieve
      tags:
      - business
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /business/daily/:
    get:
      operationId: business_daily_retrieve
      tags:
      - business
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /business/monthly/:
    get:
      operationId: business_monthly_retrieve
      tags:
      - business
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /business/overview/:
    get:
      operationId: business_overview_retrieve
      description: |-
        Single endpoint for React dashboard.

        Returns:
        {
          "daily": {...} or null,
          "weekly": [...],
          "monthly": [...],
          "country": [...]
        }
      tags:
      - business
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /business/weekly/:
    get:
      operationId: business_weekly_retrieve
      tags:
      - business
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /risk/axes/unlock-ip/:
    post:
      operationId: risk_axes_unlock_ip_create
      tags:
      - risk
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnlockIP'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UnlockIP'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UnlockIP'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnlockIP'
          description: ''
  /risk/incidents/:
    get:
      operationId: risk_incidents_list
      parameters:
      - in: query
        name: country
        schema:
          type: string
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - in: query
        name: severity
        schema:
          type: string
          enum:
          - critical
          - high
          - low
          - medium
        description: |-
          * `low` - Low
          * `medium` - Medium
          * `high` - High
          * `critical` - Critical
      tags:
      - risk
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Incident'
          description: ''
  /risk/kpis/:
    get:
      operationId: risk_kpis_retrieve
      tags:
      - risk
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /risk/logins/:
    get:
      operationId: risk_logins_list
      tags:
      - risk
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LoginEvent'
          description: ''
  /transfers/external/:
    get:
      operationId: transfers_external_list
      description: |-
        GET  /api/transfers/external/     -> list outgoing external transfers (mine -> others)
        POST /api/transfers/external/     -> create external transfer
      tags:
      - transfers
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
          description: ''
    post:
      operationId: transfers_external_create
      description: |-
        GET  /api/transfers/external/     -> list outgoing external transfers (mine -> others)
        POST /api/transfers/external/     -> create external transfer
      tags:
      - transfers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExternalTransfer'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ExternalTransfer'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ExternalTransfer'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExternalTransfer'
          description: ''
  /transfers/internal/:
    get:
      operationId: transfers_internal_list
      description: |-
        GET  /api/transfers/internal/     -> list internal transfers (mine -> mine)
        POST /api/transfers/internal/     -> create internal transfer
      tags:
      - transfers
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
          description: ''
    post:
      operationId: transfers_internal_create
      description: |-
        GET  /api/transfers/internal/     -> list internal transfers (mine -> mine)
        POST /api/transfers/internal/     -> create internal transfer
      tags:
      - transfers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InternalTransfer'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/InternalTransfer'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/InternalTransfer'
        required: true
      security:
      - jwtAuth: []
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalTransfer'
          description: ''
components:
  schemas:
    Account:
      type: object
      properties:
        account_number:
          type: string
          readOnly: true
        owner:
          allOf:
          - $ref: '#/components/schemas/User'
          readOnly: true
        mask:
          type: string
          readOnly: true
        type:
          $ref: '#/components/schemas/TypeEnum'
        currency:
          $ref: '#/components/schemas/CurrencyEnum'
        balance:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        display_balance:
          type: string
          readOnly: true
        is_active:
          type: boolean
          readOnly: true
        maximum_withdrawal_amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        card_count:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - account_number
      - card_count
      - created_at
      - display_balance
      - is_active
      - mask
      - maximum_withdrawal_amount
      - owner
      - updated_at
    Activation:
      type: object
      properties:
        uid:
          type: string
        token:
          type: string
      required:
      - token
      - uid
    BillPayment:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        account:
          type: string
        biller:
          type: integer
        reference_number:
          type: string
          maxLength: 30
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        currency:
          type: string
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/StatusEnum'
          readOnly: true
      required:
      - account
      - amount
      - biller
      - currency
      - id
      - reference_number
      - status
    Card:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        card_type:
          $ref: '#/components/schemas/CardTypeEnum'
        last4:
          type: string
          readOnly: true
        is_active:
          type: boolean
        expiration_date:
          type: string
          readOnly: true
      required:
      - expiration_date
      - id
      - last4
    CardTypeEnum:
      enum:
      - DEBIT
      - CREDIT
      type: string
      description: |-
        * `DEBIT` - Debit Card
        * `CREDIT` - Credit Card
    CurrencyEnum:
      enum:
      - JOD
      - USD
      - EUR
      type: string
      description: |-
        * `JOD` - JOD
        * `USD` - USD
        * `EUR` - EUR
    ExternalTransfer:
      type: object
      properties:
        sender_account:
          type: string
        receiver_account_number:
          type: string
          maxLength: 12
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
      required:
      - amount
      - receiver_account_number
      - sender_account
    Incident:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ip:
          type: string
          nullable: true
        country:
          type: string
          maxLength: 100
        attempted_email:
          type: string
          format: email
          maxLength: 254
        event:
          type: string
          maxLength: 255
        severity:
          $ref: '#/components/schemas/SeverityEnum'
        details: {}
        timestamp:
          type: string
          format: date-time
          readOnly: true
        user:
          type: integer
          nullable: true
      required:
      - event
      - id
      - timestamp
    InternalTransfer:
      type: object
      properties:
        sender_account:
          type: string
        receiver_account:
          type: string
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
      required:
      - amount
      - receiver_account
      - sender_account
    LoggingTokenObtainPair:
      type: object
      description: |-
        Wraps the normal SimpleJWT serializer to log *successful* logins.
        Failed logins are still captured by the django_login_failed signal.
      properties:
        email:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - email
      - password
    LoginEvent:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        ip:
          type: string
          nullable: true
        country:
          type: string
          maxLength: 100
        successful:
          type: boolean
        attempted_email:
          type: string
          maxLength: 255
        user_agent:
          type: string
        source:
          $ref: '#/components/schemas/SourceEnum'
        failure_reason:
          type: string
          maxLength: 255
        timestamp:
          type: string
          format: date-time
          readOnly: true
        user:
          type: integer
          nullable: true
      required:
      - id
      - timestamp
    PasswordResetConfirm:
      type: object
      properties:
        uid:
          type: string
        token:
          type: string
        new_password:
          type: string
      required:
      - new_password
      - token
      - uid
    PatchedBillPayment:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        account:
          type: string
        biller:
          type: integer
        reference_number:
          type: string
          maxLength: 30
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        currency:
          type: string
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/StatusEnum'
          readOnly: true
    PatchedUser:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        first_name:
          type: string
          maxLength: 150
        email:
          type: string
          format: email
          maxLength: 254
        is_staff:
          type: boolean
          title: Staff status
          description: Designates whether the user can log into this admin site.
        is_superuser:
          type: boolean
          title: Superuser status
          description: Designates that this user has all permissions without explicitly
            assigning them.
    SendEmailReset:
      type: object
      properties:
        email:
          type: string
          format: email
      required:
      - email
    SetPasswordRetype:
      type: object
      properties:
        new_password:
          type: string
        re_new_password:
          type: string
        current_password:
          type: string
      required:
      - current_password
      - new_password
      - re_new_password
    SetUsername:
      type: object
      properties:
        current_password:
          type: string
        new_email:
          type: string
          format: email
          title: Email
          maxLength: 254
      required:
      - current_password
      - new_email
    SeverityEnum:
      enum:
      - low
      - medium
      - high
      - critical
      type: string
      description: |-
        * `low` - Low
        * `medium` - Medium
        * `high` - High
        * `critical` - Critical
    SourceEnum:
      enum:
      - password
      - google
      - other
      type: string
      description: |-
        * `password` - Password (Djoser/JWT/Admin)
        * `google` - Google OAuth
        * `other` - Other
    StatusEnum:
      enum:
      - PENDING
      - PAID
      - FAILED
      type: string
      description: |-
        * `PENDING` - Pending
        * `PAID` - Paid
        * `FAILED` - Failed
    TokenCreate:
      type: object
      properties:
        password:
          type: string
        email:
          type: string
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
      - access
      - refresh
    TokenVerify:
      type: object
      properties:
        token:
          type: string
          writeOnly: true
      required:
      - token
    Transaction:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        sender_account_number:
          type: string
          readOnly: true
        receiver_account_number:
          type: string
          readOnly: true
        sender_balance_after:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        receiver_balance_after:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - amount
      - created_at
      - id
      - receiver_account_number
      - receiver_balance_after
      - sender_account_number
      - sender_balance_after
    TypeEnum:
      enum:
      - Savings
      - Salary
      - Basic
      - USD
      - EUR
      type: string
      description: |-
        * `Savings` - Savings Account
        * `Salary` - Salary Account
        * `Basic` - Basic Account
        * `USD` - USD Account
        * `EUR` - EUR Account
    UnlockIP:
      type: object
      properties:
        ip:
          type: string
      required:
      - ip
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        first_name:
          type: string
          maxLength: 150
        email:
          type: string
          format: email
          maxLength: 254
        is_staff:
          type: boolean
          title: Staff status
          description: Designates whether the user can log into this admin site.
        is_superuser:
          type: boolean
          title: Superuser status
          description: Designates that this user has all permissions without explicitly
            assigning them.
      required:
      - email
      - id
    UserCreatePasswordRetype:
      type: object
      properties:
        email:
          type: string
          format: email
          maxLength: 254
        id:
          type: integer
          readOnly: true
        password:
          type: string
          writeOnly: true
        re_password:
          type: string
      required:
      - email
      - id
      - password
      - re_password
    UsernameResetConfirm:
      type: object
      properties:
        new_email:
          type: string
          format: email
          title: Email
          maxLength: 254
      required:
      - new_email
  securitySchemes:
    jwtAuth:
      type: apiKey
      in: header
      name: Authorization
      description: Token-based authentication with required prefix "JWT"
    tokenAuth:
      type: apiKey
      in: header
      name: Authorization
      description: Token-based authentication with required prefix "Token"
servers:
- url: https://api.nexus-banking.com
- url: http://127.0.0.1:8000/
